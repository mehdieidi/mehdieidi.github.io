!function(){"use strict";function e(){try{return JSON.parse(localStorage.getItem("curriculum-progress"))||{}}catch(e){return{}}}function t(){localStorage.setItem("curriculum-progress",JSON.stringify(X.progress))}function r(e){return X.progress[e]||"not-started"}function n(e,r){X.progress[e]=r,t(),M()}function a(){return CURRICULA[X.currentCurriculum]}function i(){return a().courses}function s(e){for(var t in CURRICULA){var r=CURRICULA[t].courses.find((function(t){return t.id===e}));if(r)return r}return null}function o(){var e=i().slice(),t=X.filters,n=X.search.toLowerCase();return"all"!==t.category&&(e=e.filter((function(e){return e.category===t.category}))),"high"===t.ai&&(e=e.filter((function(e){return e.aiProof>=8}))),"medium"===t.ai&&(e=e.filter((function(e){return e.aiProof>=5&&e.aiProof<8}))),"low"===t.ai&&(e=e.filter((function(e){return e.aiProof<5}))),"completed"===t.status&&(e=e.filter((function(e){return"completed"===r(e.id)}))),"in-progress"===t.status&&(e=e.filter((function(e){return"in-progress"===r(e.id)}))),"not-started"===t.status&&(e=e.filter((function(e){return"not-started"===r(e.id)}))),n&&(e=e.filter((function(e){return e.name.toLowerCase().indexOf(n)>=0||e.description.toLowerCase().indexOf(n)>=0||e.topics.some((function(e){return e.toLowerCase().indexOf(n)>=0}))||e.category.toLowerCase().indexOf(n)>=0||e.source.toLowerCase().indexOf(n)>=0}))),e}function c(e){return e>=8?"ai-high":e>=5?"ai-medium":"ai-low"}function d(e){return(e>=8?"\ud83d\udfe2 ":e>=5?"\ud83d\udfe1 ":"\ud83d\udd34 ")+e+"/10"}function l(e){return e>=8?"#3fb950":e>=5?"#d29922":"#f85149"}function u(){var e=document.getElementById("filter-category");for(var t in e.innerHTML='<option value="all">All Categories</option>',CATEGORIES){var r=CATEGORIES[t];e.innerHTML+='<option value="'+t+'">'+r.icon+" "+r.label+"</option>"}}function f(){var e=i(),t=e.length,n=e.filter((function(e){return"completed"===r(e.id)})).length,a=t?Math.round(n/t*100):0,s=e.reduce((function(e,t){return e+t.hours}),0),o=e.filter((function(e){return"completed"===r(e.id)})).reduce((function(e,t){return e+t.hours}),0),c=2*Math.PI*52,d=document.getElementById("progress-circle");d.style.strokeDasharray=c,d.style.strokeDashoffset=c-a/100*c,document.getElementById("progress-text").textContent=a+"%",document.getElementById("stat-completed").textContent=n+"/"+t,document.getElementById("stat-hours").textContent=o+"/"+s;var l=document.getElementById(X.currentCurriculum+"-badge");l&&(l.textContent=n+"/"+t)}function g(){var e=document.getElementById("timeline-container"),t=a(),i=o(),l="";t.semesters.forEach((function(e){var t=i.filter((function(t){return t.semester===e.id}));if(t.length){var n=t.reduce((function(e,t){return e+t.hours}),0);l+='<div class="semester-group"><div class="semester-header"><span class="semester-label">'+e.label+'</span><span class="semester-line"></span><span class="semester-hours">'+e.subtitle+" \xb7 "+n+'h</span></div><div class="course-grid">',t.forEach((function(e){var t=r(e.id),n="completed"===t?"checked":"",a="not-started"!==t?t:"",i="";e.prerequisites.length&&(i='<div class="card-prereqs">Requires: '+e.prerequisites.map((function(e){var t=s(e);return'<span class="'+("completed"===r(e)?"":"prereq-missing")+'" data-course="'+e+'">'+(t?t.name:e)+"</span>"})).join(", ")+"</div>");var o=CATEGORIES[e.category]||{};l+='<div class="course-card '+a+'" data-id="'+e.id+'" data-category="'+e.category+'"><div class="card-top"><input type="checkbox" class="card-checkbox" data-id="'+e.id+'" '+n+' title="Mark complete"><div class="card-title">'+e.name+'</div></div><div class="card-meta"><span class="meta-tag">'+(o.icon||"")+" "+(o.label||e.category)+'</span><span class="meta-tag hours">\u23f1 '+e.hours+'h</span><span class="meta-tag ai-proof '+c(e.aiProof)+'">AI-Proof: '+d(e.aiProof)+'</span></div><div class="card-desc">'+e.description+"</div>"+i+"</div>"})),l+="</div></div>"}})),e.innerHTML=l,e.querySelectorAll(".course-card").forEach((function(e){e.addEventListener("click",(function(t){if(!t.target.classList.contains("card-checkbox")&&"INPUT"!==t.target.tagName){var r=t.target.closest("[data-course]");P(r?r.dataset.course:e.dataset.id)}}))})),e.querySelectorAll(".card-checkbox").forEach((function(e){e.addEventListener("change",(function(t){t.stopPropagation(),n(e.dataset.id,e.checked?"completed":"not-started")}))}))}function h(){var e=document.getElementById("table-body"),t=o().slice(),a=X.sort.key,i="asc"===X.sort.dir?1:-1;t.sort((function(e,t){var r="aiproof"===a?e.aiProof:e[a],n="aiproof"===a?t.aiProof:t[a];return"string"==typeof r?r.localeCompare(n)*i:(r-n)*i}));var l="";t.forEach((function(e){var t="completed"===r(e.id)?"checked":"",n=e.prerequisites.map((function(e){var t=s(e);return t?t.name:e})).join(", ")||"None",a=CATEGORIES[e.category]||{};l+='<tr data-id="'+e.id+'"><td><input type="checkbox" class="table-checkbox" data-id="'+e.id+'" '+t+"></td><td>"+e.id+"</td><td><strong>"+e.name+'</strong><br><small style="color:var(--text-muted)">'+e.source+"</small></td><td>"+e.semester+'</td><td><span class="cat-badge '+e.category+'">'+(a.label||e.category)+"</span></td><td>"+e.hours+'h</td><td><span class="meta-tag ai-proof '+c(e.aiProof)+'">'+d(e.aiProof)+"</span></td><td><small>"+n+"</small></td></tr>"})),e.innerHTML=l,e.querySelectorAll("tr").forEach((function(e){e.addEventListener("click",(function(t){"INPUT"!==t.target.tagName&&P(e.dataset.id)}))})),e.querySelectorAll(".table-checkbox").forEach((function(e){e.addEventListener("change",(function(t){t.stopPropagation(),n(e.dataset.id,e.checked?"completed":"not-started")}))}))}function p(){var e=X.graph,t=i(),r=a().semesters,n=document.getElementById("graph-canvas"),s=n.clientWidth,o=n.clientHeight,c={};r.forEach((function(e,t){c[e.id]=t}));var d={};t.forEach((function(e){d[e.semester]=(d[e.semester]||0)+1}));var l=140,u=70,f=r.length>1?(s-2*l)/(r.length-1):0,g={};e.nodes=t.map((function(e){var t=c[e.semester]||0;g[e.semester]=(g[e.semester]||0)+1;var r=d[e.semester]||1,n=g[e.semester],a=(o-2*u)/(r+1);return{id:e.id,x:l+t*f,y:u+n*a,r:24,course:e}})),e.nodeMap={},e.nodes.forEach((function(t){e.nodeMap[t.id]=t}))}function v(e){function t(e,t,r){var n=e+"|"+t;c[n]||(c[n]=!0,o.push({from:e,to:t,type:r}))}function r(e){var n=s(e);n&&n.prerequisites.forEach((function(n){t(n,e,"prereq"),a[n]||(a[n]=!0,r(n))}))}function n(e){var r=s(e);r&&r.futureUse.forEach((function(r){t(e,r,"future"),i[r]||(i[r]=!0,n(r))}))}if(!s(e))return{prereqs:{},futures:{},edges:[]};var a={},i={},o=[],c={};return r(e),n(e),{prereqs:a,futures:i,edges:o}}function m(e,t){var r=X.graph;return{x:(e-r.offsetX)/r.scale,y:(t-r.offsetY)/r.scale}}function y(e,t){for(var r=X.graph.nodes,n=0;n<r.length;n++){var a=r[n];if(Math.hypot(e-a.x,t-a.y)<=a.r+6)return a}return null}function E(e,t,r,n,a,i,s,o,c){var d=Math.atan2(a-r,n-t),l=t+Math.cos(d)*(i+5),u=r+Math.sin(d)*(i+5),f=n-Math.cos(d)*(i+5),g=a-Math.sin(d)*(i+5);e.save(),e.beginPath(),c&&e.setLineDash([6,4]),e.moveTo(l,u),e.lineTo(f,g),e.strokeStyle=s,e.lineWidth=o,e.stroke(),e.setLineDash([]);var h=Math.max(8,5*o);e.beginPath(),e.moveTo(f,g),e.lineTo(f-h*Math.cos(d-.35),g-h*Math.sin(d-.35)),e.lineTo(f-h*Math.cos(d+.35),g-h*Math.sin(d+.35)),e.closePath(),e.fillStyle=s,e.fill(),e.restore()}function I(){var e=document.getElementById("graph-canvas");if(e){var t=e.getContext("2d"),n=X.graph,a=n.nodes,i=n.nodeMap,s=n.selectedId,o=n.hoveredId,c=!!s,d={},l={},u={},f=[];if(c){var g=v(s);d=g.prereqs,l=g.futures,(f=g.edges).forEach((function(e){u[e.from+"|"+e.to]=e.type}))}var h=window.devicePixelRatio||1;t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),t.restore(),t.save(),t.setTransform(h*n.scale,0,0,h*n.scale,h*n.offsetX,h*n.offsetY),a.forEach((function(e){e.course.prerequisites.forEach((function(r){var n=i[r];if(n){var a=r+"|"+e.id;if(!c||!u[a]){var s=c?.06:.25;E(t,n.x,n.y,e.x,e.y,e.r,"rgba(88,166,255,"+s+")",c?1:1.5,!1)}}})),e.course.futureUse.forEach((function(r){var n=i[r];if(n){var a=e.id+"|"+r;if(!c||!u[a]){var s=c?.04:.15;E(t,e.x,e.y,n.x,n.y,n.r,"rgba(63,185,80,"+s+")",c?.8:1,!0)}}}))})),c&&f.forEach((function(e){var r=i[e.from],n=i[e.to];r&&n&&("prereq"===e.type?E(t,r.x,r.y,n.x,n.y,n.r,"#f0883e",3,!1):E(t,r.x,r.y,n.x,n.y,n.r,"#3fb950",2.5,!0))})),a.forEach((function(e){var n=r(e.id),a=(CATEGORIES[e.course.category]||{}).color||"#8b949e",i=e.id===s,u=e.id===o,f=!!d[e.id],g=!!l[e.id],h=c&&!(i||f||g);i?(t.beginPath(),t.arc(e.x,e.y,e.r+12,0,2*Math.PI),t.fillStyle="rgba(240,136,62,0.2)",t.fill()):f&&c?(t.beginPath(),t.arc(e.x,e.y,e.r+10,0,2*Math.PI),t.fillStyle="rgba(88,166,255,0.12)",t.fill()):g&&c&&(t.beginPath(),t.arc(e.x,e.y,e.r+10,0,2*Math.PI),t.fillStyle="rgba(63,185,80,0.12)",t.fill()),h&&(t.globalAlpha=.2),t.beginPath(),t.arc(e.x,e.y,e.r,0,2*Math.PI),t.fillStyle="completed"===n?"rgba(63,185,80,0.25)":"in-progress"===n?"rgba(210,153,34,0.25)":"rgba(28,33,40,0.9)",t.fill();var p=a,v=2;i?(p="#f0883e",v=3.5):f&&c?(p="#58a6ff",v=3):g&&c?(p="#3fb950",v=3):"completed"===n?p="#3fb950":"in-progress"===n&&(p="#d29922"),t.strokeStyle=p,t.lineWidth=v,t.stroke(),u&&!i&&(t.beginPath(),t.arc(e.x,e.y,e.r+5,0,2*Math.PI),t.strokeStyle="rgba(230,237,243,0.5)",t.lineWidth=2,t.stroke()),t.beginPath(),t.arc(e.x,e.y,5,0,2*Math.PI),t.fillStyle=a,t.fill(),t.font="600 10px -apple-system, BlinkMacSystemFont, sans-serif",t.textAlign="center",t.textBaseline="top",t.fillStyle="#e6edf3";var m=e.course.name.length>22?e.course.name.slice(0,20)+"\u2026":e.course.name;t.fillText(m,e.x,e.y+e.r+8),t.globalAlpha=1})),t.restore()}}function b(){var e=document.getElementById("graph-zoom-label");e&&(e.textContent=Math.round(100*X.graph.scale)+"%")}function L(e,t,r){var n=X.graph,a=n.scale,i=e>0?1.15:1/1.15;n.scale=Math.max(.1,Math.min(6,n.scale*i));var s=n.scale/a;void 0!==t&&(n.offsetX=t-(t-n.offsetX)*s,n.offsetY=r-(r-n.offsetY)*s),b(),I()}function x(e){var t=X.graph;t.scale=1,t.offsetX=0,t.offsetY=0,e&&(t.selectedId=null,t.hoveredId=null),b(),I()}function S(){var e=document.getElementById("graph-canvas"),t=e.parentElement,r=window.devicePixelRatio||1;e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.width=t.clientWidth*r,e.height=t.clientHeight*r}function C(e){S(),p(),e||(X.graph.scale=1,X.graph.offsetX=0,X.graph.offsetY=0,X.graph.selectedId=null,X.graph.hoveredId=null),b(),I()}function k(){var e=X.graph;if(!e.initialized){e.initialized=!0;var t=document.getElementById("graph-canvas"),r=document.getElementById("graph-tooltip");t.addEventListener("wheel",(function(e){if("graph"===X.currentView){e.preventDefault();var r=t.getBoundingClientRect();L(e.deltaY<0?1:-1,e.clientX-r.left,e.clientY-r.top)}}),{passive:!1}),t.addEventListener("mousedown",(function(r){if("graph"===X.currentView){var n=t.getBoundingClientRect(),a=m(r.clientX-n.left,r.clientY-n.top),i=y(a.x,a.y);if(i)return e.selectedId=e.selectedId===i.id?null:i.id,void I();e.dragging=!0,e.dragStartX=r.clientX,e.dragStartY=r.clientY,e.dragOffsetX=e.offsetX,e.dragOffsetY=e.offsetY,t.style.cursor="grabbing"}})),t.addEventListener("mousemove",(function(n){if("graph"===X.currentView){var a=t.getBoundingClientRect(),i=n.clientX-a.left,s=n.clientY-a.top;if(e.dragging)return e.offsetX=e.dragOffsetX+(n.clientX-e.dragStartX),e.offsetY=e.dragOffsetY+(n.clientY-e.dragStartY),void I();var o=m(i,s),c=y(o.x,o.y),d=e.hoveredId;if(e.hoveredId=c?c.id:null,c){t.style.cursor="pointer",r.classList.remove("hidden"),r.style.left=Math.min(i+20,t.clientWidth-320)+"px",r.style.top=Math.min(s-10,t.clientHeight-120)+"px";var l=c.course,u=CATEGORIES[l.category]||{},f="";if(e.selectedId&&e.selectedId!==c.id){var g=v(e.selectedId);g.prereqs[c.id]?f='<div style="color:#f0883e;font-size:11px;margin-top:4px">\u2b05 Prerequisite of selected node</div>':g.futures[c.id]&&(f='<div style="color:#3fb950;font-size:11px;margin-top:4px">\u27a1 Unlocked by selected node</div>')}r.innerHTML='<div class="tooltip-title">'+l.name+'</div><div class="tooltip-meta">'+(u.label||l.category)+" \xb7 "+l.hours+"h \xb7 AI-Proof: "+l.aiProof+'/10</div><div class="tooltip-desc">'+l.description+"</div>"+f}else t.style.cursor=e.dragging?"grabbing":"grab",r.classList.add("hidden");d!==e.hoveredId&&I()}})),t.addEventListener("mouseup",(function(){e.dragging=!1,t.style.cursor="grab"})),t.addEventListener("mouseleave",(function(){e.dragging=!1,e.hoveredId=null,r.classList.add("hidden"),t.style.cursor="grab",I()})),t.addEventListener("dblclick",(function(e){if("graph"===X.currentView){var r=t.getBoundingClientRect(),n=m(e.clientX-r.left,e.clientY-r.top),a=y(n.x,n.y);a&&P(a.id)}}));var n=0;t.addEventListener("touchstart",(function(r){if("graph"===X.currentView)if(1===r.touches.length){var a=r.touches[0],i=t.getBoundingClientRect(),s=m(a.clientX-i.left,a.clientY-i.top),o=y(s.x,s.y);if(o)return e.selectedId=e.selectedId===o.id?null:o.id,void I();e.dragging=!0,e.dragStartX=a.clientX,e.dragStartY=a.clientY,e.dragOffsetX=e.offsetX,e.dragOffsetY=e.offsetY}else 2===r.touches.length&&(e.dragging=!1,n=Math.hypot(r.touches[0].clientX-r.touches[1].clientX,r.touches[0].clientY-r.touches[1].clientY))}),{passive:!0}),t.addEventListener("touchmove",(function(r){if("graph"===X.currentView)if(r.preventDefault(),1===r.touches.length&&e.dragging){var a=r.touches[0];e.offsetX=e.dragOffsetX+(a.clientX-e.dragStartX),e.offsetY=e.dragOffsetY+(a.clientY-e.dragStartY),I()}else if(2===r.touches.length){var i=Math.hypot(r.touches[0].clientX-r.touches[1].clientX,r.touches[0].clientY-r.touches[1].clientY),s=t.getBoundingClientRect(),o=(r.touches[0].clientX+r.touches[1].clientX)/2-s.left,c=(r.touches[0].clientY+r.touches[1].clientY)/2-s.top;n>0&&L(i>n?1:-1,o,c),n=i}}),{passive:!1}),t.addEventListener("touchend",(function(){e.dragging=!1,n=0})),document.getElementById("graph-zoom-in").addEventListener("click",(function(){var e=document.getElementById("graph-canvas");L(1,e.clientWidth/2,e.clientHeight/2)})),document.getElementById("graph-zoom-out").addEventListener("click",(function(){var e=document.getElementById("graph-canvas");L(-1,e.clientWidth/2,e.clientHeight/2)})),document.getElementById("graph-zoom-reset").addEventListener("click",(function(){x(!0)})),document.getElementById("graph-deselect").addEventListener("click",(function(){e.selectedId=null,I()}))}}function P(e){var t=s(e);if(t){X.selectedCourse=e;var a=document.getElementById("detail-panel"),i=document.getElementById("detail-content"),o=r(e),u=CATEGORIES[t.category]||{},f=t.prerequisites.length?t.prerequisites.map((function(e){var t=s(e),n="completed"===r(e);return'<div class="prereq-item" data-course="'+e+'"><span>'+(n?"\u2705":"\u2b1c")+"</span><span>"+(t?t.name:e)+'</span><span class="prereq-arrow" style="margin-left:auto">'+(n?"Done":"Not done")+"</span></div>"})).join(""):'<p style="color:var(--text-muted)">None \u2014 you can start this course immediately.</p>',g=t.futureUse.length?t.futureUse.map((function(e){var t=s(e);return'<div class="future-item" data-course="'+e+'"><span>\u2192</span><span>'+(t?t.name:e)+"</span></div>"})).join(""):'<p style="color:var(--text-muted)">Capstone / terminal course.</p>',h=["not-started","in-progress","completed"].map((function(e){return'<button class="status-btn '+(o===e?"active-status-"+e:"")+'" data-status="'+e+'">'+{"not-started":"\u2b1c Not Started","in-progress":"\ud83d\udd04 In Progress",completed:"\u2705 Completed"}[e]+"</button>"})).join("");i.innerHTML='<div class="detail-header"><div class="detail-course-number">'+t.id.toUpperCase()+" \xb7 "+t.source+'</div><div class="detail-title">'+t.name+'</div><div class="detail-tags"><span class="meta-tag">'+(u.icon||"")+" "+(u.label||t.category)+'</span><span class="meta-tag hours">\u23f1 '+t.hours+' hours</span><span class="meta-tag ai-proof '+c(t.aiProof)+'">AI-Proof: '+d(t.aiProof)+'</span></div></div><div class="detail-section"><h3>Status</h3><div class="detail-status-toggle">'+h+'</div></div><div class="detail-section"><h3>Description</h3><p>'+t.description+'</p></div><div class="detail-section"><h3>Topics Covered</h3><div class="card-meta">'+t.topics.map((function(e){return'<span class="meta-tag">'+e+"</span>"})).join("")+'</div></div><div class="detail-section"><h3>Why This Course Is Here</h3><p>'+t.whyIncluded+'</p></div><div class="detail-section"><h3>\ud83e\udd16 AI-Proof Analysis</h3><div class="ai-meter"><div class="ai-meter-bar"><div class="ai-meter-fill" style="width:'+10*t.aiProof+"%;background:"+l(t.aiProof)+'"></div></div><div class="ai-meter-label" style="color:'+l(t.aiProof)+'">'+t.aiProof+'/10</div></div><p style="margin-top:8px">'+t.aiAnalysis+'</p></div><div class="detail-section"><h3>Prerequisites</h3><div class="prereq-chain">'+f+'</div></div><div class="detail-section"><h3>Where This Leads (Future Use)</h3><div class="prereq-chain">'+g+'</div></div><div class="detail-section"><h3>\ud83d\udcda Free Resource</h3><a class="detail-link" href="'+t.link+'" target="_blank" rel="noopener noreferrer"><span class="detail-link-icon">\ud83d\udd17</span><span>'+t.link+"</span></a></div>",a.classList.remove("hidden"),i.querySelectorAll(".status-btn").forEach((function(t){t.addEventListener("click",(function(){n(e,t.dataset.status),P(e)}))})),i.querySelectorAll("[data-course]").forEach((function(e){e.addEventListener("click",(function(){P(e.dataset.course)}))}))}}function w(){document.getElementById("detail-panel").classList.add("hidden"),X.selectedCourse=null}function B(){var e=a();document.getElementById("breadcrumb").innerHTML='<span class="crumb active">'+e.icon+" "+e.name+"</span>"}function M(){B(),f(),g(),h(),"graph"===X.currentView&&requestAnimationFrame((function(){C(!0)}))}function q(e){X.currentView=e,document.querySelectorAll(".view").forEach((function(e){e.classList.remove("active")})),document.querySelectorAll(".view-btn").forEach((function(e){e.classList.remove("active")})),document.getElementById(e+"-view").classList.add("active"),document.querySelector('.view-btn[data-view="'+e+'"]').classList.add("active"),"graph"===e&&requestAnimationFrame((function(){C(!0),k()}))}function Y(){var e;document.querySelectorAll(".nav-btn").forEach((function(e){e.addEventListener("click",(function(){X.currentCurriculum=e.dataset.curriculum,document.querySelectorAll(".nav-btn").forEach((function(e){e.classList.remove("active")})),e.classList.add("active"),w(),X.graph.initialized=!1,X.graph.selectedId=null,X.graph.hoveredId=null,X.graph.scale=1,X.graph.offsetX=0,X.graph.offsetY=0,M()}))})),document.querySelectorAll(".view-btn").forEach((function(e){e.addEventListener("click",(function(){q(e.dataset.view)}))})),document.getElementById("filter-category").addEventListener("change",(function(e){X.filters.category=e.target.value,M()})),document.getElementById("filter-ai").addEventListener("change",(function(e){X.filters.ai=e.target.value,M()})),document.getElementById("filter-status").addEventListener("change",(function(e){X.filters.status=e.target.value,M()})),document.getElementById("search-input").addEventListener("input",(function(e){X.search=e.target.value,M()})),document.querySelectorAll("#course-table th.sortable").forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.sort;X.sort.key===t?X.sort.dir="asc"===X.sort.dir?"desc":"asc":(X.sort.key=t,X.sort.dir="asc"),document.querySelectorAll("#course-table th").forEach((function(e){e.classList.remove("sort-asc","sort-desc")})),e.classList.add("sort-"+X.sort.dir),h()}))})),document.getElementById("close-detail").addEventListener("click",w),document.getElementById("reset-progress").addEventListener("click",(function(){confirm("Reset all progress for this curriculum?")&&(i().forEach((function(e){delete X.progress[e.id]})),t(),M())})),document.getElementById("export-progress").addEventListener("click",(function(){var e={exported:(new Date).toISOString(),curriculum:X.currentCurriculum,progress:{}};i().forEach((function(t){e.progress[t.id]={name:t.name,status:r(t.id),hours:t.hours}}));var t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="curriculum-progress-"+X.currentCurriculum+"-"+(new Date).toISOString().slice(0,10)+".json",a.click(),URL.revokeObjectURL(n)})),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){"graph"===X.currentView&&C(!0)}),150)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(document.getElementById("detail-panel").classList.contains("hidden")?X.graph.selectedId&&"graph"===X.currentView&&(X.graph.selectedId=null,I()):w())}))}function A(){for(var e in u(),Y(),CURRICULA){var t=CURRICULA[e].courses,n=t.filter((function(e){return"completed"===r(e.id)})).length,a=document.getElementById(e+"-badge");a&&(a.textContent=n+"/"+t.length)}M()}var X={currentCurriculum:"bsc",currentView:"timeline",selectedCourse:null,progress:e(),filters:{category:"all",ai:"all",status:"all"},search:"",sort:{key:"id",dir:"asc"},graph:{nodes:[],nodeMap:{},scale:1,offsetX:0,offsetY:0,selectedId:null,hoveredId:null,dragging:!1,dragStartX:0,dragStartY:0,dragOffsetX:0,dragOffsetY:0,initialized:!1}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",A):A()}();