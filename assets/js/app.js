!function(){"use strict";function e(){try{return JSON.parse(localStorage.getItem("curriculum-progress"))||{}}catch(e){return{}}}function t(){localStorage.setItem("curriculum-progress",JSON.stringify(Y.progress))}function r(e){return Y.progress[e]||"not-started"}function n(e,r){Y.progress[e]=r,t(),q()}function a(){return CURRICULA[Y.currentCurriculum]}function i(){return a().courses}function o(e){for(var t in CURRICULA){var r=CURRICULA[t].courses.find((function(t){return t.id===e}));if(r)return r}return null}function s(){var e=i().slice(),t=Y.filters,n=Y.search.toLowerCase();return"all"!==t.category&&(e=e.filter((function(e){return e.category===t.category}))),"high"===t.ai&&(e=e.filter((function(e){return e.aiProof>=8}))),"medium"===t.ai&&(e=e.filter((function(e){return e.aiProof>=5&&e.aiProof<8}))),"low"===t.ai&&(e=e.filter((function(e){return e.aiProof<5}))),"completed"===t.status&&(e=e.filter((function(e){return"completed"===r(e.id)}))),"in-progress"===t.status&&(e=e.filter((function(e){return"in-progress"===r(e.id)}))),"not-started"===t.status&&(e=e.filter((function(e){return"not-started"===r(e.id)}))),n&&(e=e.filter((function(e){return e.name.toLowerCase().indexOf(n)>=0||e.description.toLowerCase().indexOf(n)>=0||e.topics.some((function(e){return e.toLowerCase().indexOf(n)>=0}))||e.category.toLowerCase().indexOf(n)>=0||e.source.toLowerCase().indexOf(n)>=0}))),e}function c(e){return e>=8?"ai-high":e>=5?"ai-medium":"ai-low"}function d(e){return(e>=8?"\ud83d\udfe2 ":e>=5?"\ud83d\udfe1 ":"\ud83d\udd34 ")+e+"/10"}function l(e){return e>=8?"#3fb950":e>=5?"#d29922":"#f85149"}function u(){var e=document.getElementById("filter-category");for(var t in e.innerHTML='<option value="all">All Categories</option>',CATEGORIES){var r=CATEGORIES[t];e.innerHTML+='<option value="'+t+'">'+r.icon+" "+r.label+"</option>"}}function f(){var e=i(),t=e.length,n=e.filter((function(e){return"completed"===r(e.id)})).length,a=t?Math.round(n/t*100):0,o=e.reduce((function(e,t){return e+t.hours}),0),s=e.filter((function(e){return"completed"===r(e.id)})).reduce((function(e,t){return e+t.hours}),0),c=2*Math.PI*52,d=document.getElementById("progress-circle");d.style.strokeDasharray=c,d.style.strokeDashoffset=c-a/100*c,document.getElementById("progress-text").textContent=a+"%",document.getElementById("stat-completed").textContent=n+"/"+t,document.getElementById("stat-hours").textContent=s+"/"+o;var l=document.getElementById(Y.currentCurriculum+"-badge");l&&(l.textContent=n+"/"+t)}function g(){var e=document.getElementById("timeline-container"),t=a(),i=s(),l="";t.semesters.forEach((function(e){var t=i.filter((function(t){return t.semester===e.id}));if(t.length){var n=t.reduce((function(e,t){return e+t.hours}),0);l+='<div class="semester-group"><div class="semester-header"><span class="semester-label">'+e.label+'</span><span class="semester-line"></span><span class="semester-hours">'+e.subtitle+" \xb7 "+n+'h</span></div><div class="course-grid">',t.forEach((function(e){var t=r(e.id),n="completed"===t?"checked":"",a="not-started"!==t?t:"",i="";e.prerequisites.length&&(i='<div class="card-prereqs">Requires: '+e.prerequisites.map((function(e){var t=o(e);return'<span class="'+("completed"===r(e)?"":"prereq-missing")+'" data-course="'+e+'">'+(t?t.name:e)+"</span>"})).join(", ")+"</div>");var s=CATEGORIES[e.category]||{};l+='<div class="course-card '+a+'" data-id="'+e.id+'" data-category="'+e.category+'"><div class="card-top"><input type="checkbox" class="card-checkbox" data-id="'+e.id+'" '+n+' title="Mark complete"><div class="card-title">'+e.name+'</div></div><div class="card-meta"><span class="meta-tag">'+(s.icon||"")+" "+(s.label||e.category)+'</span><span class="meta-tag hours">\u23f1 '+e.hours+'h</span><span class="meta-tag ai-proof '+c(e.aiProof)+'">AI-Proof: '+d(e.aiProof)+'</span></div><div class="card-desc">'+e.description+"</div>"+i+"</div>"})),l+="</div></div>"}})),e.innerHTML=l,e.querySelectorAll(".course-card").forEach((function(e){e.addEventListener("click",(function(t){if(!t.target.classList.contains("card-checkbox")&&"INPUT"!==t.target.tagName){var r=t.target.closest("[data-course]");k(r?r.dataset.course:e.dataset.id)}}))})),e.querySelectorAll(".card-checkbox").forEach((function(e){e.addEventListener("change",(function(t){t.stopPropagation(),n(e.dataset.id,e.checked?"completed":"not-started")}))}))}function h(){var e=document.getElementById("table-body"),t=s().slice(),a=Y.sort.key,i="asc"===Y.sort.dir?1:-1;t.sort((function(e,t){var r="aiproof"===a?e.aiProof:e[a],n="aiproof"===a?t.aiProof:t[a];return"string"==typeof r?r.localeCompare(n)*i:(r-n)*i}));var l="";t.forEach((function(e){var t="completed"===r(e.id)?"checked":"",n=e.prerequisites.map((function(e){var t=o(e);return t?t.name:e})).join(", ")||"None",a=CATEGORIES[e.category]||{};l+='<tr data-id="'+e.id+'"><td><input type="checkbox" class="table-checkbox" data-id="'+e.id+'" '+t+"></td><td>"+e.id+"</td><td><strong>"+e.name+'</strong><br><small style="color:var(--text-muted)">'+e.source+"</small></td><td>"+e.semester+'</td><td><span class="cat-badge '+e.category+'">'+(a.label||e.category)+"</span></td><td>"+e.hours+'h</td><td><span class="meta-tag ai-proof '+c(e.aiProof)+'">'+d(e.aiProof)+"</span></td><td><small>"+n+"</small></td></tr>"})),e.innerHTML=l,e.querySelectorAll("tr").forEach((function(e){e.addEventListener("click",(function(t){"INPUT"!==t.target.tagName&&k(e.dataset.id)}))})),e.querySelectorAll(".table-checkbox").forEach((function(e){e.addEventListener("change",(function(t){t.stopPropagation(),n(e.dataset.id,e.checked?"completed":"not-started")}))}))}function p(){var e=Y.graph,t=i(),r=a().semesters,n=document.getElementById("graph-canvas"),o=n.clientWidth,s=n.clientHeight,c={};r.forEach((function(e,t){c[e.id]=t}));var d={};t.forEach((function(e){d[e.semester]=(d[e.semester]||0)+1}));var l=140,u=70,f=r.length>1?(o-2*l)/(r.length-1):0,g={};e.nodes=t.map((function(e){var t=c[e.semester]||0;g[e.semester]=(g[e.semester]||0)+1;var r=d[e.semester]||1,n=g[e.semester],a=(s-2*u)/(r+1);return{id:e.id,x:l+t*f,y:u+n*a,r:24,course:e}})),e.nodeMap={},e.nodes.forEach((function(t){e.nodeMap[t.id]=t}))}function m(e){function t(e){var r=o(e);r&&r.prerequisites.forEach((function(r){a[r]?s.some((function(t){return t.from===r&&t.to===e}))||s.push({from:r,to:e,type:"prereq"}):(a[r]=!0,s.push({from:r,to:e,type:"prereq"}),t(r))}))}function r(e){var t=o(e);t&&t.futureUse.forEach((function(t){i[t]?s.some((function(r){return r.from===e&&r.to===t}))||s.push({from:e,to:t,type:"future"}):(i[t]=!0,s.push({from:e,to:t,type:"future"}),r(t))}))}var n=o(e);if(!n)return{prereqs:{},futures:{},edges:[]};var a={},i={},s=[];return n.prerequisites.forEach((function(t){a[t]=!0,s.some((function(r){return r.from===t&&r.to===e}))||s.push({from:t,to:e,type:"prereq"})})),n.futureUse.forEach((function(t){i[t]=!0,s.some((function(r){return r.from===e&&r.to===t}))||s.push({from:e,to:t,type:"future"})})),t(e),r(e),{prereqs:a,futures:i,edges:s}}function v(e,t){var r=Y.graph;return{x:(e-r.offsetX)/r.scale,y:(t-r.offsetY)/r.scale}}function y(e,t){for(var r=Y.graph.nodes,n=0;n<r.length;n++){var a=r[n];if(Math.hypot(e-a.x,t-a.y)<=a.r+6)return a}return null}function E(e,t,r,n,a,i,o,s,c){var d=Math.atan2(a-r,n-t),l=t+Math.cos(d)*(i+5),u=r+Math.sin(d)*(i+5),f=n-Math.cos(d)*(i+5),g=a-Math.sin(d)*(i+5);e.save(),e.beginPath(),c&&e.setLineDash([6,4]),e.moveTo(l,u),e.lineTo(f,g),e.strokeStyle=o,e.lineWidth=s,e.stroke(),e.setLineDash([]);var h=Math.max(8,5*s);e.beginPath(),e.moveTo(f,g),e.lineTo(f-h*Math.cos(d-.35),g-h*Math.sin(d-.35)),e.lineTo(f-h*Math.cos(d+.35),g-h*Math.sin(d+.35)),e.closePath(),e.fillStyle=o,e.fill(),e.restore()}function I(){var e=document.getElementById("graph-canvas"),t=e.getContext("2d"),n=Y.graph,a=n.nodes,i=n.nodeMap,o=n.selectedId,s=n.hoveredId,c=!!o,d={},l={},u=[];if(c){var f=m(o);d=f.prereqs,l=f.futures,u=f.edges}var g={};u.forEach((function(e){g[e.from+"|"+e.to]=e.type})),t.clearRect(0,0,e.width,e.height),t.save(),t.translate(n.offsetX,n.offsetY),t.scale(n.scale,n.scale),a.forEach((function(e){e.course.prerequisites.forEach((function(r){var n=i[r];if(n){var a=r+"|"+e.id;if(!c||!g[a]){var o=c?.06:.25;E(t,n.x,n.y,e.x,e.y,e.r,"rgba(88,166,255,"+o+")",c?1:1.5,!1)}}})),e.course.futureUse.forEach((function(r){var n=i[r];if(n){var a=e.id+"|"+r;if(!c||!g[a]){var o=c?.04:.15;E(t,e.x,e.y,n.x,n.y,n.r,"rgba(63,185,80,"+o+")",c?.8:1,!0)}}}))})),c&&u.forEach((function(e){var r=i[e.from],n=i[e.to];r&&n&&("prereq"===e.type?E(t,r.x,r.y,n.x,n.y,n.r,"#f0883e",3,!1):E(t,r.x,r.y,n.x,n.y,n.r,"#3fb950",2.5,!0))})),a.forEach((function(e){var n=r(e.id),a=(CATEGORIES[e.course.category]||{}).color||"#8b949e",i=e.id===o,u=e.id===s,f=!!d[e.id],g=!!l[e.id],h=c&&!(i||f||g);i?(t.beginPath(),t.arc(e.x,e.y,e.r+12,0,2*Math.PI),t.fillStyle="rgba(240,136,62,0.2)",t.fill()):f&&c?(t.beginPath(),t.arc(e.x,e.y,e.r+10,0,2*Math.PI),t.fillStyle="rgba(88,166,255,0.12)",t.fill()):g&&c&&(t.beginPath(),t.arc(e.x,e.y,e.r+10,0,2*Math.PI),t.fillStyle="rgba(63,185,80,0.12)",t.fill()),h&&(t.globalAlpha=.2),t.beginPath(),t.arc(e.x,e.y,e.r,0,2*Math.PI),t.fillStyle="completed"===n?"rgba(63,185,80,0.25)":"in-progress"===n?"rgba(210,153,34,0.25)":"rgba(28,33,40,0.9)",t.fill();var p=a,m=2;i?(p="#f0883e",m=3.5):f&&c?(p="#58a6ff",m=3):g&&c?(p="#3fb950",m=3):"completed"===n?p="#3fb950":"in-progress"===n&&(p="#d29922"),t.strokeStyle=p,t.lineWidth=m,t.stroke(),u&&!i&&(t.beginPath(),t.arc(e.x,e.y,e.r+5,0,2*Math.PI),t.strokeStyle="rgba(230,237,243,0.5)",t.lineWidth=2,t.stroke()),t.beginPath(),t.arc(e.x,e.y,5,0,2*Math.PI),t.fillStyle=a,t.fill(),t.font="600 10px -apple-system, BlinkMacSystemFont, sans-serif",t.textAlign="center",t.textBaseline="top",t.fillStyle="#e6edf3";var v=e.course.name.length>22?e.course.name.slice(0,20)+"\u2026":e.course.name;t.fillText(v,e.x,e.y+e.r+8),t.globalAlpha=1})),t.restore()}function b(){var e=document.getElementById("graph-zoom-label");e&&(e.textContent=Math.round(100*Y.graph.scale)+"%")}function L(e,t,r){var n=Y.graph,a=n.scale,i=e>0?1.15:1/1.15;n.scale=Math.max(.1,Math.min(6,n.scale*i));var o=n.scale/a;void 0!==t&&(n.offsetX=t-(t-n.offsetX)*o,n.offsetY=r-(r-n.offsetY)*o),b(),I()}function x(){var e=Y.graph;e.scale=1,e.offsetX=0,e.offsetY=0,e.selectedId=null,e.hoveredId=null,b(),I()}function C(){var e=document.getElementById("graph-canvas"),t=e.parentElement,r=window.devicePixelRatio||1;e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.width=t.clientWidth*r,e.height=t.clientHeight*r,e.getContext("2d").setTransform(r,0,0,r,0,0);var n=Y.graph;n.scale=1,n.offsetX=0,n.offsetY=0,n.selectedId=null,n.hoveredId=null,p(),b(),I()}function S(){var e=document.getElementById("graph-canvas");if(!e._gBound){e._gBound=!0;var t=Y.graph,r=document.getElementById("graph-tooltip");e.addEventListener("wheel",(function(t){t.preventDefault();var r=e.getBoundingClientRect();L(t.deltaY<0?1:-1,t.clientX-r.left,t.clientY-r.top)}),{passive:!1}),e.addEventListener("mousedown",(function(r){var n=e.getBoundingClientRect(),a=v(r.clientX-n.left,r.clientY-n.top),i=y(a.x,a.y);if(i)return t.selectedId=t.selectedId===i.id?null:i.id,void I();t.dragging=!0,t.dragStartX=r.clientX,t.dragStartY=r.clientY,t.dragOffsetX=t.offsetX,t.dragOffsetY=t.offsetY,e.style.cursor="grabbing"})),e.addEventListener("mousemove",(function(n){var a=e.getBoundingClientRect(),i=n.clientX-a.left,o=n.clientY-a.top;if(t.dragging)return t.offsetX=t.dragOffsetX+(n.clientX-t.dragStartX),t.offsetY=t.dragOffsetY+(n.clientY-t.dragStartY),void I();var s=v(i,o),c=y(s.x,s.y),d=t.hoveredId;if(t.hoveredId=c?c.id:null,c){e.style.cursor="pointer",r.classList.remove("hidden"),r.style.left=Math.min(i+20,e.clientWidth-320)+"px",r.style.top=Math.min(o-10,e.clientHeight-120)+"px";var l=c.course,u=CATEGORIES[l.category]||{},f="";if(t.selectedId&&t.selectedId!==c.id){var g=m(t.selectedId);g.prereqs[c.id]?f='<div style="color:#f0883e;font-size:11px;margin-top:4px">\u2b05 Prerequisite of selected node</div>':g.futures[c.id]&&(f='<div style="color:#3fb950;font-size:11px;margin-top:4px">\u27a1 Unlocked by selected node</div>')}r.innerHTML='<div class="tooltip-title">'+l.name+'</div><div class="tooltip-meta">'+(u.label||l.category)+" \xb7 "+l.hours+"h \xb7 AI-Proof: "+l.aiProof+'/10</div><div class="tooltip-desc">'+l.description+"</div>"+f}else e.style.cursor=t.dragging?"grabbing":"grab",r.classList.add("hidden");d!==t.hoveredId&&I()})),e.addEventListener("mouseup",(function(){t.dragging=!1,e.style.cursor="grab"})),e.addEventListener("mouseleave",(function(){t.dragging=!1,t.hoveredId=null,r.classList.add("hidden"),e.style.cursor="grab",I()})),e.addEventListener("dblclick",(function(t){var r=e.getBoundingClientRect(),n=v(t.clientX-r.left,t.clientY-r.top),a=y(n.x,n.y);a&&k(a.id)}));var n=0;e.addEventListener("touchstart",(function(r){if(1===r.touches.length){var a=r.touches[0],i=e.getBoundingClientRect(),o=v(a.clientX-i.left,a.clientY-i.top),s=y(o.x,o.y);if(s)return t.selectedId=t.selectedId===s.id?null:s.id,void I();t.dragging=!0,t.dragStartX=a.clientX,t.dragStartY=a.clientY,t.dragOffsetX=t.offsetX,t.dragOffsetY=t.offsetY}else 2===r.touches.length&&(t.dragging=!1,n=Math.hypot(r.touches[0].clientX-r.touches[1].clientX,r.touches[0].clientY-r.touches[1].clientY))}),{passive:!0}),e.addEventListener("touchmove",(function(r){if(r.preventDefault(),1===r.touches.length&&t.dragging){var a=r.touches[0];t.offsetX=t.dragOffsetX+(a.clientX-t.dragStartX),t.offsetY=t.dragOffsetY+(a.clientY-t.dragStartY),I()}else if(2===r.touches.length){var i=Math.hypot(r.touches[0].clientX-r.touches[1].clientX,r.touches[0].clientY-r.touches[1].clientY),o=e.getBoundingClientRect(),s=(r.touches[0].clientX+r.touches[1].clientX)/2-o.left,c=(r.touches[0].clientY+r.touches[1].clientY)/2-o.top;n>0&&L(i>n?1:-1,s,c),n=i}}),{passive:!1}),e.addEventListener("touchend",(function(){t.dragging=!1,n=0})),document.getElementById("graph-zoom-in").addEventListener("click",(function(){L(1,e.clientWidth/2,e.clientHeight/2)})),document.getElementById("graph-zoom-out").addEventListener("click",(function(){L(-1,e.clientWidth/2,e.clientHeight/2)})),document.getElementById("graph-zoom-reset").addEventListener("click",x),document.getElementById("graph-deselect").addEventListener("click",(function(){t.selectedId=null,I()}))}}function k(e){var t=o(e);if(t){Y.selectedCourse=e;var a=document.getElementById("detail-panel"),i=document.getElementById("detail-content"),s=r(e),u=CATEGORIES[t.category]||{},f=t.prerequisites.length?t.prerequisites.map((function(e){var t=o(e),n="completed"===r(e);return'<div class="prereq-item" data-course="'+e+'"><span>'+(n?"\u2705":"\u2b1c")+"</span><span>"+(t?t.name:e)+'</span><span class="prereq-arrow" style="margin-left:auto">'+(n?"Done":"Not done")+"</span></div>"})).join(""):'<p style="color:var(--text-muted)">None \u2014 you can start this course immediately.</p>',g=t.futureUse.length?t.futureUse.map((function(e){var t=o(e);return'<div class="future-item" data-course="'+e+'"><span>\u2192</span><span>'+(t?t.name:e)+"</span></div>"})).join(""):'<p style="color:var(--text-muted)">Capstone / terminal course.</p>',h=["not-started","in-progress","completed"].map((function(e){return'<button class="status-btn '+(s===e?"active-status-"+e:"")+'" data-status="'+e+'">'+{"not-started":"\u2b1c Not Started","in-progress":"\ud83d\udd04 In Progress",completed:"\u2705 Completed"}[e]+"</button>"})).join("");i.innerHTML='<div class="detail-header"><div class="detail-course-number">'+t.id.toUpperCase()+" \xb7 "+t.source+'</div><div class="detail-title">'+t.name+'</div><div class="detail-tags"><span class="meta-tag">'+(u.icon||"")+" "+(u.label||t.category)+'</span><span class="meta-tag hours">\u23f1 '+t.hours+' hours</span><span class="meta-tag ai-proof '+c(t.aiProof)+'">AI-Proof: '+d(t.aiProof)+'</span></div></div><div class="detail-section"><h3>Status</h3><div class="detail-status-toggle">'+h+'</div></div><div class="detail-section"><h3>Description</h3><p>'+t.description+'</p></div><div class="detail-section"><h3>Topics Covered</h3><div class="card-meta">'+t.topics.map((function(e){return'<span class="meta-tag">'+e+"</span>"})).join("")+'</div></div><div class="detail-section"><h3>Why This Course Is Here</h3><p>'+t.whyIncluded+'</p></div><div class="detail-section"><h3>\ud83e\udd16 AI-Proof Analysis</h3><div class="ai-meter"><div class="ai-meter-bar"><div class="ai-meter-fill" style="width:'+10*t.aiProof+"%;background:"+l(t.aiProof)+'"></div></div><div class="ai-meter-label" style="color:'+l(t.aiProof)+'">'+t.aiProof+'/10</div></div><p style="margin-top:8px">'+t.aiAnalysis+'</p></div><div class="detail-section"><h3>Prerequisites</h3><div class="prereq-chain">'+f+'</div></div><div class="detail-section"><h3>Where This Leads (Future Use)</h3><div class="prereq-chain">'+g+'</div></div><div class="detail-section"><h3>\ud83d\udcda Free Resource</h3><a class="detail-link" href="'+t.link+'" target="_blank" rel="noopener noreferrer"><span class="detail-link-icon">\ud83d\udd17</span><span>'+t.link+"</span></a></div>",a.classList.remove("hidden"),i.querySelectorAll(".status-btn").forEach((function(t){t.addEventListener("click",(function(){n(e,t.dataset.status),k(e)}))})),i.querySelectorAll("[data-course]").forEach((function(e){e.addEventListener("click",(function(){k(e.dataset.course)}))}))}}function B(){document.getElementById("detail-panel").classList.add("hidden"),Y.selectedCourse=null}function P(){var e=a();document.getElementById("breadcrumb").innerHTML='<span class="crumb active">'+e.icon+" "+e.name+"</span>"}function q(){P(),f(),g(),h(),"graph"===Y.currentView&&requestAnimationFrame((function(){C()}))}function M(e){Y.currentView=e,document.querySelectorAll(".view").forEach((function(e){e.classList.remove("active")})),document.querySelectorAll(".view-btn").forEach((function(e){e.classList.remove("active")})),document.getElementById(e+"-view").classList.add("active"),document.querySelector('.view-btn[data-view="'+e+'"]').classList.add("active"),"graph"===e&&requestAnimationFrame((function(){C(),S()}))}function w(){var e;document.querySelectorAll(".nav-btn").forEach((function(e){e.addEventListener("click",(function(){Y.currentCurriculum=e.dataset.curriculum,document.querySelectorAll(".nav-btn").forEach((function(e){e.classList.remove("active")})),e.classList.add("active"),B(),document.getElementById("graph-canvas")._gBound=!1,q()}))})),document.querySelectorAll(".view-btn").forEach((function(e){e.addEventListener("click",(function(){M(e.dataset.view)}))})),document.getElementById("filter-category").addEventListener("change",(function(e){Y.filters.category=e.target.value,q()})),document.getElementById("filter-ai").addEventListener("change",(function(e){Y.filters.ai=e.target.value,q()})),document.getElementById("filter-status").addEventListener("change",(function(e){Y.filters.status=e.target.value,q()})),document.getElementById("search-input").addEventListener("input",(function(e){Y.search=e.target.value,q()})),document.querySelectorAll("#course-table th.sortable").forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.sort;Y.sort.key===t?Y.sort.dir="asc"===Y.sort.dir?"desc":"asc":(Y.sort.key=t,Y.sort.dir="asc"),document.querySelectorAll("#course-table th").forEach((function(e){e.classList.remove("sort-asc","sort-desc")})),e.classList.add("sort-"+Y.sort.dir),h()}))})),document.getElementById("close-detail").addEventListener("click",B),document.getElementById("reset-progress").addEventListener("click",(function(){confirm("Reset all progress for this curriculum?")&&(i().forEach((function(e){delete Y.progress[e.id]})),t(),q())})),document.getElementById("export-progress").addEventListener("click",(function(){var e={exported:(new Date).toISOString(),curriculum:Y.currentCurriculum,progress:{}};i().forEach((function(t){e.progress[t.id]={name:t.name,status:r(t.id),hours:t.hours}}));var t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="curriculum-progress-"+Y.currentCurriculum+"-"+(new Date).toISOString().slice(0,10)+".json",a.click(),URL.revokeObjectURL(n)})),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){"graph"===Y.currentView&&(document.getElementById("graph-canvas")._gBound=!1,C(),S())}),150)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(document.getElementById("detail-panel").classList.contains("hidden")?Y.graph.selectedId&&"graph"===Y.currentView&&(Y.graph.selectedId=null,I()):B())}))}function A(){for(var e in u(),w(),CURRICULA){var t=CURRICULA[e].courses,n=t.filter((function(e){return"completed"===r(e.id)})).length,a=document.getElementById(e+"-badge");a&&(a.textContent=n+"/"+t.length)}q()}const Y={currentCurriculum:"bsc",currentView:"timeline",selectedCourse:null,progress:e(),filters:{category:"all",ai:"all",status:"all"},search:"",sort:{key:"id",dir:"asc"},graph:{nodes:[],nodeMap:{},scale:1,offsetX:0,offsetY:0,selectedId:null,hoveredId:null,dragging:!1,dragStartX:0,dragStartY:0,dragOffsetX:0,dragOffsetY:0}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",A):A()}();